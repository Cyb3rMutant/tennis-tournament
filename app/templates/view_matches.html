{% extends "base.html" %}
{{ super()}}
{% block head %}
     <script src="{{ url_for('static',filename='jquery/jquery.min.js') }}"></script>
     <script src="{{ url_for('static',filename='jquery/jTournament.js') }}"></script>
{% endblock %}
{% block content %}
 <button onclick="myFunction()">switch type</button> 
  <div>
     <canvas id="tournament"></canvas>
  </div>
    <script>
        var matchInfo = [];
        {% for c in competitions %}
            matchInfo.push(JSON.parse('{{ c|safe }}'));
        {% endfor %}
        var type_index = 1;
     console.log(matchInfo);
    var options = {
			width: 100,
			height: 30,
			border_width: "1",
			background_color: "#c0c0c0",
			text_style: "bold 15px verdana",
			h_spacing: 10,
			v_spacing: 10,
			text_color: "#FFFFFF",
			text_color_loss: "#777777",
			gradient: [{loc: 0, color: '#4F4F4F'},
			   {loc: 0.5, color: '#1B1B1B'},
			   {loc: 0.5, color: '#000000'}],
			score: {active: true},
			links: {active: true},
			url: ""  // Location of canvas background image with trailing slash!.
    }
        $(document).ready(function () {
            $('#tournament').jTournament(options, matchInfo[type_index]);
        });

        function myFunction(){
            type_index = type_index ^ 1;
            $('#tournament').jTournament(options, matchInfo[type_index]);
        }
    </script>


{% endblock %}
