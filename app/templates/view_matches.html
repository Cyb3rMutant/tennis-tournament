{% extends "base.html" %}
{{ super()}}
{% block head %}
     <script src="{{ url_for('static',filename='jquery/jquery.min.js') }}"></script>
     <script src="{{ url_for('static',filename='jquery/jTournament.js') }}"></script>
{% endblock %}
{% block content %}
<div style="text-align:center;">
    <button onclick="myFunction()" class="switch-button">Switch Gender</button> 
</div>
<div style="display: flex;">
    <div class="content-wrapper" style="overflow: auto; max-width: 100%; width: fit-content;">
        <canvas id="tournament"></canvas>
    </div>
    <div class="content-wrapper" style="width: 50%; margin-left: 1%; color: #fefefe">
        hi
    </div>
</div>
    <script>
        var matchInfo = [];
        {% for c in competitions %}
            matchInfo.push(JSON.parse('{{ c|safe }}'));
        {% endfor %}
        var type_index = 1;
     console.log(matchInfo);
    var options = {
			width: 175,
			height: 30,
			border_width: "1",
            border_color: "#fff",
			background_color: "#0d0a14df",
			text_style: "bold 15px sans-serif",
			h_spacing: 10,
			v_spacing: 10,
			text_color: "#fefefe",
			text_color_loss: "#777777",
			score: {active: true},
			links: {active: true},
            bracket_color: "#999999",
			url: ""  // Location of canvas background image with trailing slash!.
    }
        $(document).ready(function () {
            $('#tournament').jTournament(options, matchInfo[type_index]);
        });

        function myFunction(){
            type_index = type_index ^ 1;
            $('#tournament').jTournament(options, matchInfo[type_index]);
        }
    </script>


{% endblock %}
